def main()
start
    var fp = openfile(getarg(2)).
    interpreter(fp).
    var return = 0.
stop

def tNode(var int, var left, var right, var bf) # tree node object
start
    this.
stop

def interpreter(var fp)
start
    var tree = tNode(.
    var command.
    var x.
    while (not (atfileend(fp))) start
        command = readinteger(fp).
        
        if (command == 0) start
            print(tree).
            displayTree(tree).
        stop

        else start # command = 1
            var i = readinteger(fp).
            x = tNode(i, 0, 0, 0).
            print("inserting x: " + x@int).
            insertBST(tree, x).
            #insertionFixup(x).
        stop
    stop
stop

def displayTree(var tree)
start
    if (tree == 0) start
        return = 0.
    stop

    else start
        displayTree(tree@left).
        print(tree@int).
        displayTree(tree@right).
    stop

stop


def insertBST(var node, var x)
start
    if (node == 0) start
        node = x.
    stop

    if (x@int < node@int) start
        node@left = insertBST(node@left, x).
    stop

    else if (x@int > node@int) start
        node@right = insertBST(node@right, x).
    stop
    
    var n = node.
stop

def insertionFixup(var x)
start
stop

main().
